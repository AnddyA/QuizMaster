{% extends 'base.html' %}
{% block title %}Crear Pregunta{% endblock %}
{% block content %}
  <div class="bg-white p-6 rounded-xl shadow">
    <h2 class="text-2xl font-bold text-indigo-600 mb-6">Crear Nueva Pregunta</h2>

    <form method="post" enctype="multipart/form-data" class="space-y-6">
      {% csrf_token %}

      <div class="space-y-2">
        <label class="block text-gray-700 font-medium">Categor√≠a y Enunciado</label>
        {{ q_form.as_p }}
      </div>

      <div class="space-y-2">
        <label class="block text-gray-700 font-medium">Opciones de Respuesta</label>
        {{ formset.management_form }}
        {% for form in formset %}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border p-4 rounded-lg bg-gray-50">
            {{ form.as_p }}
          </div>
        {% endfor %}
      </div>

      <div class="pt-4 flex gap-4">
        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-lg transition">
          Guardar Pregunta
        </button>
        <a href="{% url 'dashboard_student' %}" class="text-gray-600 hover:text-indigo-600 transition">
          Cancelar
        </a>
      </div>

      {% if messages %}
        <div class="pt-4">
          {% for message in messages %}
            <div class="p-3 rounded text-sm font-medium
                        {% if message.tags == 'error' %}
                          bg-red-100 text-red-700
                        {% elif message.tags == 'success' %}
                          bg-green-100 text-green-700
                        {% else %}
                          bg-blue-100 text-blue-700
                        {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    </form>
  </div>
{% endblock %}
